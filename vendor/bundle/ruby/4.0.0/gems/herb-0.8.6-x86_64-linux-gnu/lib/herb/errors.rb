# frozen_string_literal: true
# typed: true

# NOTE: This file is generated by the templates/template.rb script and should not be
# modified manually. See /home/runner/work/herb/herb/templates/lib/herb/errors.rb.erb

module Herb
  module Errors
    class Error
      attr_reader :type #: String
      attr_reader :location #: Location
      attr_reader :message #: String

      #: (String, Location, String) -> void
      def initialize(type, location, message)
        @type = type
        @location = location
        @message = message
      end

      #: () -> serialized_error
      def to_hash
        {
          type: type,
          location: location&.to_hash,
          message: message,
        }
      end

      #: () -> String
      def class_name
        self.class.name || "Error"
      end

      #: () -> String
      def error_name
        class_name.split("::").last || "Error"
      end

      #: (?untyped) -> String
      def to_json(state = nil)
        to_hash.to_json(state)
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        raise NotImplementedError
      end
    end

    class UnexpectedError < Error
      include Colors

      attr_reader :description #: String
      attr_reader :expected #: String
      attr_reader :found #: String

      #: (String, Location, String, String, String, String) -> void
      def initialize(type, location, message, description, expected, found)
        super(type, location, message)
        @description = description
        @expected = expected
        @found = found
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_unexpected_error
      def to_hash
        super.merge(
          description: description,
          expected: expected,
          found: found
        ) #: Herb::serialized_unexpected_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("├── description: #{green(description.inspect)}\n")
        output += white("├── expected: #{green(expected.inspect)}\n")
        output += white("└── found: #{green(found.inspect)}\n")
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class UnexpectedTokenError < Error
      include Colors

      attr_reader :expected_type #: String
      attr_reader :found #: Herb::Token

      #: (String, Location, String, String, Herb::Token) -> void
      def initialize(type, location, message, expected_type, found)
        super(type, location, message)
        @expected_type = expected_type
        @found = found
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_unexpected_token_error
      def to_hash
        super.merge(
          expected_type: expected_type,
          found: found
        ) #: Herb::serialized_unexpected_token_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("├── expected_type: #{green(expected_type.inspect)}\n")
        output += white("└── found: ")
        output += found ? found.tree_inspect : magenta("∅")
        output += "\n"
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class MissingOpeningTagError < Error
      include Colors

      attr_reader :closing_tag #: Herb::Token

      #: (String, Location, String, Herb::Token) -> void
      def initialize(type, location, message, closing_tag)
        super(type, location, message)
        @closing_tag = closing_tag
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_missing_opening_tag_error
      def to_hash
        super.merge(
          closing_tag: closing_tag
        ) #: Herb::serialized_missing_opening_tag_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("└── closing_tag: ")
        output += closing_tag ? closing_tag.tree_inspect : magenta("∅")
        output += "\n"
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class MissingClosingTagError < Error
      include Colors

      attr_reader :opening_tag #: Herb::Token

      #: (String, Location, String, Herb::Token) -> void
      def initialize(type, location, message, opening_tag)
        super(type, location, message)
        @opening_tag = opening_tag
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_missing_closing_tag_error
      def to_hash
        super.merge(
          opening_tag: opening_tag
        ) #: Herb::serialized_missing_closing_tag_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("└── opening_tag: ")
        output += opening_tag ? opening_tag.tree_inspect : magenta("∅")
        output += "\n"
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class TagNamesMismatchError < Error
      include Colors

      attr_reader :opening_tag #: Herb::Token
      attr_reader :closing_tag #: Herb::Token

      #: (String, Location, String, Herb::Token, Herb::Token) -> void
      def initialize(type, location, message, opening_tag, closing_tag)
        super(type, location, message)
        @opening_tag = opening_tag
        @closing_tag = closing_tag
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_tag_names_mismatch_error
      def to_hash
        super.merge(
          opening_tag: opening_tag,
          closing_tag: closing_tag
        ) #: Herb::serialized_tag_names_mismatch_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("├── opening_tag: ")
        output += opening_tag ? opening_tag.tree_inspect : magenta("∅")
        output += "\n"
        output += white("└── closing_tag: ")
        output += closing_tag ? closing_tag.tree_inspect : magenta("∅")
        output += "\n"
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class QuotesMismatchError < Error
      include Colors

      attr_reader :opening_quote #: Herb::Token
      attr_reader :closing_quote #: Herb::Token

      #: (String, Location, String, Herb::Token, Herb::Token) -> void
      def initialize(type, location, message, opening_quote, closing_quote)
        super(type, location, message)
        @opening_quote = opening_quote
        @closing_quote = closing_quote
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_quotes_mismatch_error
      def to_hash
        super.merge(
          opening_quote: opening_quote,
          closing_quote: closing_quote
        ) #: Herb::serialized_quotes_mismatch_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("├── opening_quote: ")
        output += opening_quote ? opening_quote.tree_inspect : magenta("∅")
        output += "\n"
        output += white("└── closing_quote: ")
        output += closing_quote ? closing_quote.tree_inspect : magenta("∅")
        output += "\n"
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class VoidElementClosingTagError < Error
      include Colors

      attr_reader :tag_name #: Herb::Token
      attr_reader :expected #: String
      attr_reader :found #: String

      #: (String, Location, String, Herb::Token, String, String) -> void
      def initialize(type, location, message, tag_name, expected, found)
        super(type, location, message)
        @tag_name = tag_name
        @expected = expected
        @found = found
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_void_element_closing_tag_error
      def to_hash
        super.merge(
          tag_name: tag_name,
          expected: expected,
          found: found
        ) #: Herb::serialized_void_element_closing_tag_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("├── tag_name: ")
        output += tag_name ? tag_name.tree_inspect : magenta("∅")
        output += "\n"
        output += white("├── expected: #{green(expected.inspect)}\n")
        output += white("└── found: #{green(found.inspect)}\n")
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class UnclosedElementError < Error
      include Colors

      attr_reader :opening_tag #: Herb::Token

      #: (String, Location, String, Herb::Token) -> void
      def initialize(type, location, message, opening_tag)
        super(type, location, message)
        @opening_tag = opening_tag
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_unclosed_element_error
      def to_hash
        super.merge(
          opening_tag: opening_tag
        ) #: Herb::serialized_unclosed_element_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("└── opening_tag: ")
        output += opening_tag ? opening_tag.tree_inspect : magenta("∅")
        output += "\n"
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class RubyParseError < Error
      include Colors

      attr_reader :error_message #: String
      attr_reader :diagnostic_id #: String
      attr_reader :level #: String

      #: (String, Location, String, String, String, String) -> void
      def initialize(type, location, message, error_message, diagnostic_id, level)
        super(type, location, message)
        @error_message = error_message
        @diagnostic_id = diagnostic_id
        @level = level
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_ruby_parse_error
      def to_hash
        super.merge(
          error_message: error_message,
          diagnostic_id: diagnostic_id,
          level: level
        ) #: Herb::serialized_ruby_parse_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("├── error_message: #{green(error_message.inspect)}\n")
        output += white("├── diagnostic_id: #{green(diagnostic_id.inspect)}\n")
        output += white("└── level: #{green(level.inspect)}\n")
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class ERBControlFlowScopeError < Error
      include Colors

      attr_reader :keyword #: String

      #: (String, Location, String, String) -> void
      def initialize(type, location, message, keyword)
        super(type, location, message)
        @keyword = keyword
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_erb_control_flow_scope_error
      def to_hash
        super.merge(
          keyword: keyword
        ) #: Herb::serialized_erb_control_flow_scope_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("└── keyword: #{green(keyword.inspect)}\n")
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class MissingERBEndTagError < Error
      include Colors

      attr_reader :keyword #: String

      #: (String, Location, String, String) -> void
      def initialize(type, location, message, keyword)
        super(type, location, message)
        @keyword = keyword
      end

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: () -> serialized_missingerb_end_tag_error
      def to_hash
        super.merge(
          keyword: keyword
        ) #: Herb::serialized_missingerb_end_tag_error
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("├── message: #{green(message.inspect)}\n")
        output += white("└── keyword: #{green(keyword.inspect)}\n")
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

    class ERBMultipleBlocksInTagError < Error
      include Colors

      #: () -> String
      def inspect
        tree_inspect.rstrip.gsub(/\s+$/, "")
      end

      #: (?indent: Integer, ?depth: Integer, ?depth_limit: Integer) -> String
      def tree_inspect(indent: 0, depth: 0, depth_limit: 25)
        output = +""

        output += white("@ #{bold(red(error_name))} #{dimmed("(location: #{location.tree_inspect})\n")}")
        output += white("└── message: #{green(message.inspect)}\n")
        output += %(\n)

        output.gsub(/^/, "    " * indent)
      end
    end

  end
end
