# frozen_string_literal: true

# <%= Generator::Config::GENERATED_FILE_NOTICE %>

require "zeitwerk"
require "peddler/inflector"

loader = Zeitwerk::Loader.for_gem
loader.inflector = Peddler::Inflector.new(__FILE__)
if File.exist?("#{__dir__}/generator.rb")
  loader.ignore("#{__dir__}/generator.rb")
  loader.ignore("#{__dir__}/generator")
end
loader.setup

module Peddler
  class << self
<% apis.each do |api| -%>
    def <%= api.name_with_version %> = APIs::<%= api.class_name %>
<% end -%>

<% apis_with_latest_version.each do |api_name, api| -%>
    alias <%= api_name %> <%= api.name_with_version %>
<% end -%>
  end
end
